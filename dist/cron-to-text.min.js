!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.cronToText=e()}(this,function(){"use strict";function n(n){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],t=arguments.length<=2||void 0===arguments[2]?9999:arguments[2];return isNaN(n)?l[n]||null:Math.min(+n+e,t)}function e(n){var e,t={};for(e in n)"dc"!==e&&"d"!==e&&(t[e]=n[e].slice(0));return t}function t(n,e,t,r){var u=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=t;for(n[e]||(n[e]=[]);r>=o;)n[e].indexOf(o)<0&&n[e].push(o),o+=u||1;n[e].sort(function(n,e){return n-e})}function r(n,r,u,o){(r.d&&!r.dc||r.dc&&r.dc.indexOf(o)<0)&&(n.push(e(r)),r=n[n.length-1]),t(r,"d",u,u),t(r,"dc",o,o)}function u(n,e,r){var u={},o={};1===r?(t(e,"D",1,3),t(e,"d",l.MON,l.FRI),t(u,"D",2,2),t(u,"d",l.TUE,l.FRI),t(o,"D",3,3),t(o,"d",l.TUE,l.FRI)):(t(e,"D",r-1,r+1),t(e,"d",l.MON,l.FRI),t(u,"D",r-1,r-1),t(u,"d",l.MON,l.THU),t(o,"D",r+1,r+1),t(o,"d",l.TUE,l.FRI)),n.exceptions.push(u),n.exceptions.push(o)}function o(e,r,u,o,i,a){var d=e.split("/"),h=+d[1],f=d[0];if("*"!==f&&"0"!==f){var s=f.split("-");o=n(s[0],a,i),i=n(s[1],a,i)||i}t(r,u,o,i,h)}function i(e,i,a,d,h,f){var s,c,l=i.schedules,m=l[l.length-1];"L"===e&&(e=(d-1).toString(10)),null!==(s=n(e,f,h))?t(m,a,s,s):null!==(s=n(e.replace("W",""),f,h))?u(i,m,s):null!==(s=n(e.replace("L",""),f,h))?r(l,m,s,d-1):2===(c=e.split("#")).length?(s=n(c[0],f,h),r(l,m,s,n(c[1]))):o(e,m,a,d,h,f)}function a(n){return n.indexOf("#")>-1||n.indexOf("L")>0}function d(n,e){return a(n)&&!a(e)?1:n-e}function h(n){var e,t,r,u,o={schedules:[{}],exceptions:[]},a=n.replace(/(\s)+/g," ").split(" ");for(e in v)if(t=v[e],r=a[t[0]],r&&"*"!==r&&"?"!==r){u=r.split(",").sort(d);var h,f=u.length;for(h=0;f>h;h++)i(u[h],o,e,t[1],t[2],t[3])}return o}function f(n){var e=n.toUpperCase();return m[e]||e}function s(n,e){var t=f(n);return h(e?t:"0 "+t)}function c(n,e){function t(n){return 0>n?Math.ceil(n):Math.floor(n)}function r(n){var e=+n,r=0;return 0!==e&&isFinite(e)&&(r=t(e)),r}function u(n){var e=n%10,t=1===r(n%100/10)?f.ORDINALS.th:1===e?f.ORDINALS.st:2===e?f.ORDINALS.nd:3===e?f.ORDINALS.rd:f.ORDINALS.th;return n+t}function o(n){if(n.length<2)return u(n);var e=n.pop();return n.join(", ")+(" "+f.and+" ")+u(e)}function i(n,e){return"dow"==e?f.DOW[n-1]:"mon"==e?f.MONTH[n-1]:void 0}function a(n,e){if(n.length<2)return i(""+n[0],e);for(var t,r=""+n.pop(),u="",o=0;t=n[o];o++)u.length>0&&(u+=", "),u+=i(t,e);return u+(" "+f.and+" ")+i(r,e)}function d(n){return 10>n?"0"+n:n}function h(n){var e=f.Every+" ";if(n.h&&n.m&&n.h.length<=2&&n.m.length<=2){for(var t=[],r=0;r<n.h.length;r++)for(var u=0;u<n.m.length;u++)t.push(d(n.h[r])+":"+d(n.m[u]));if(t.length<2)e=t[0];else{var i=t.pop();e=t.join(", ")+(" "+f.and+" ")+i}n.d||n.D||(e+=" "+f["every day"])}else e+=n.h?n.m?o(n.m)+(" "+f["minute past the"]+" ")+o(n.h)+(" "+f.hour):f["minute of"]+" "+o(n.h)+(" "+f.hour):n.m?o(n.m)+(" "+f["minute every hour"]):f.minute;return n.D&&(e+=(f["on the"]?" "+f["on the"]+" ":" ")+o(n.D),n.M||(e+=" "+f["of every month"])),n.d&&(e+=n.D?" "+f["and every"]+" ":" "+f.on+" ",e+=a(n.d,"dow")),n.M&&(e+=" "+f["in"]+" "+a(n.M,"mon")),e}var f=arguments.length<=2||void 0===arguments[2]?p:arguments[2],c=s(n,e);return h(c.schedules[0])}var l={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},m={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},v={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]},p={ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DOW:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Every:"Every",and:"and","every day":"every day","minute past the":"minute past the",hour:"hour",minute:"minute","minute of":"minute of","minute every hour":"minute every hour","on the":"on the","of every month":"of every month","and every":"and every",on:"on","in":"in"},g=c;return g});
//# sourceMappingURL=cron-to-text.min.js.map
